import{_ as s,c as a,o as i,a2 as e}from"./chunks/framework.CSd21wiM.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"cli.md","filePath":"cli.md"}'),t={name:"cli.md"},l=e(`<p>The easiest way to deploy and manage Functions is through our <a href="https://en.wikipedia.org/wiki/Command-line_interface" target="_blank" rel="noreferrer">Command-line interface</a>.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><p>Lagoss CLI is available for the following operating systems:</p><ul><li>macOS (Intel and M1)</li><li>Linux (x64 and arm64)</li><li>Windows (x64)</li></ul><p>We recommend installing the CLI globally, using the package manager of your choice. You will also need <a href="https://esbuild.github.io/" target="_blank" rel="noreferrer">ESBuild</a> installed globally on your machine, as we use it to bundle your Function&#39;s code:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># NPM</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @lagoss/cli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esbuild</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Yarn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @lagoss/cli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esbuild</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PNPM</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @lagoss/cli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esbuild</span></span></code></pre></div><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><p>Once installed, execute the <code>lagoss</code> CLI to see all the commands available.</p><h3 id="lagoss-login" tabindex="-1"><code>lagoss login</code> <a class="header-anchor" href="#lagoss-login" aria-label="Permalink to &quot;\`lagoss login\`&quot;">​</a></h3><p>Before being able to deploy and manage Functions, you will need to log in. Make sure you have already <a href="./usage/account.html">created an account</a>. If you try to execute a command that requires being logged in, you will be warned and the command will be aborted.</p><p>To proceed, run <code>lagoss login</code> and follow the instructions.</p><h3 id="lagoss-logout" tabindex="-1"><code>lagoss logout</code> <a class="header-anchor" href="#lagoss-logout" aria-label="Permalink to &quot;\`lagoss logout\`&quot;">​</a></h3><p>If you want, you can log out at any time. For security, you will be asked to confirm that you want to log out.</p><p>To proceed, run <code>lagoss logout</code> and follow the instructions.</p><h3 id="lagoss-deploy" tabindex="-1"><code>lagoss deploy</code> <a class="header-anchor" href="#lagoss-deploy" aria-label="Permalink to &quot;\`lagoss deploy\`&quot;">​</a></h3><p>Create a new Function or a new Deployment in the given directory. Make sure you are <a href="#lagoss-login">logged in</a> before proceeding. If you are executing the command for the first time:</p><ol><li>You will be prompted to select an Organization</li><li>You will be able to link to an existing Function, or create a new one by specifying a name</li></ol><p>If you then want to trigger a new Deployment, re-run the same command. By default, subsequent Deployments are created in preview mode. Specify <code>--prod</code> to deploy in production mode.</p><p>This command accepts the following arguments and options:</p><ul><li><code>[PATH]</code> is an optional path to a file or directory containing the Function. (Default: <code>.</code>)</li><li><code>--client, -c &lt;CLIENT&gt;</code> allows you to specify a path to an additional file to bundle as a client-side script.</li><li><code>--public, -p &lt;&lt;PUBLIC_DIR&gt;&gt;</code> allows you to specify a path to a directory containing assets to be served statically.</li><li><code>--production, --prod</code> allows you to deploy the Function in production mode. (Default: <code>false</code>)</li></ul><p>Examples:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Deploy the current directory to Production</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prod</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Deploy the index.ts file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./index.ts</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Deploy the my-project directory and override the public directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./my-project</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --public</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./my-project/assets</span></span></code></pre></div><h3 id="lagoss-ls" tabindex="-1"><code>lagoss ls</code> <a class="header-anchor" href="#lagoss-ls" aria-label="Permalink to &quot;\`lagoss ls\`&quot;">​</a></h3><p>List all the Deployments of the given directory. Make sure you are <a href="#lagoss-login">logged in</a> before proceeding. This command accepts only one argument:</p><ul><li><code>[DIRECTORY]</code> is an optional path to a directory containing the Function. (Default: <code>.</code>)</li></ul><p>Example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># List Deployments in the current directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># List Deployments of the my-project directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./my-project</span></span></code></pre></div><h3 id="lagoss-promote" tabindex="-1"><code>lagoss promote</code> <a class="header-anchor" href="#lagoss-promote" aria-label="Permalink to &quot;\`lagoss promote\`&quot;">​</a></h3><p>Promote the given Deployment to production. Make sure you are <a href="#lagoss-login">logged in</a> before proceeding. This command accepts the following arguments:</p><ul><li><code>&lt;DEPLOYMENT_ID&gt;</code> the ID of the Deployment to promote.</li><li><code>[DIRECTORY]</code> is an optional path to a directory containing the Function. (Default: <code>.</code>)</li></ul><p>Example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Promote the cl...km Deployment in the current directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> promote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> claxnlc230738q5pa7iximskm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Promote the cl...km Deployment of the my-project directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> promote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> claxnlc230738q5pa7iximskm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./my-project</span></span></code></pre></div><h3 id="lagoss-undeploy" tabindex="-1"><code>lagoss undeploy</code> <a class="header-anchor" href="#lagoss-undeploy" aria-label="Permalink to &quot;\`lagoss undeploy\`&quot;">​</a></h3><p>Un-deploy a Deployment. Make sure you are <a href="#lagoss-login">logged in</a> before proceeding. This command accepts the following arguments:</p><ul><li><code>&lt;DEPLOYMENT_ID&gt;</code> the ID of the Deployment to undeploy.</li><li><code>[DIRECTORY]</code> is an optional path to a directory containing the Function. (Default: <code>.</code>)</li></ul><p>Example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Undeploy the cl...km Deployment in the current directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> undeploy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> claxnlc230738q5pa7iximskm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Undeploy the cl...km Deployment of the my-project directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> undeploy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> claxnlc230738q5pa7iximskm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./my-project</span></span></code></pre></div><h3 id="lagoss-rm" tabindex="-1"><code>lagoss rm</code> <a class="header-anchor" href="#lagoss-rm" aria-label="Permalink to &quot;\`lagoss rm\`&quot;">​</a></h3><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>Deleting a Function also deletes permanently all of its Deployments, statistics and logs.</p></div><p>Delete completely a Function. You&#39;ll be asked to confirm before proceeding. Make sure you are <a href="#lagoss-login">logged in</a> before proceeding. This command accepts only one argument:</p><ul><li><code>[DIRECTORY]</code> is an optional path to a directory containing the Function. (Default: <code>.</code>)</li></ul><p>Example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Delete the current directory&#39;s Function</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Delete the my-project directory&#39;s Function</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./my-project</span></span></code></pre></div><h3 id="lagoss-dev" tabindex="-1"><code>lagoss dev</code> <a class="header-anchor" href="#lagoss-dev" aria-label="Permalink to &quot;\`lagoss dev\`&quot;">​</a></h3><p>Launch a local dev server, using the same Runtime as when deployed to the Cloud. You can either:</p><ul><li>Use this command without arguments, to use the current directory configuration</li><li>Specify a path to a directory containing a Function and its configuration</li><li>Specify a path to a file containing a Function</li></ul><p>This command accepts the following arguments and options:</p><ul><li><code>[PATH]</code> is an optional path to a directory or file containing the Function. (Default: <code>.</code>)</li><li><code>--client, -c &lt;CLIENT&gt;</code> allows you to specify a path to an additional file to bundle as a client-side script.</li><li><code>--public, -p &lt;&lt;PUBLIC_DIR&gt;&gt;</code> allows you to specify a path to a directory containing assets to be served statically.</li><li><code>--hostname &lt;HOSTNAME&gt;</code> allows you to specify a custom hostname to start the server on. (Default: <code>127.0.0.1</code>)</li><li><code>--port &lt;PORT&gt;</code> allows you to specify a custom port to start the server on. (Default: <code>1234</code>)</li><li><code>--env &lt;FILE&gt;</code> allows you to specify a custom path to an environment file to inject <a href="./usage/environment-variables.html">environment variables</a>. (Default: <code>.env</code>)</li><li><code>--allow-code-generation</code> allows you to enable code generation from strings (<code>eval</code> / <code>new Function</code>)</li><li><code>--prod</code> allows you to set <code>process.env.NODE_ENV</code> to <code>&quot;production&quot;</code> instead of <code>&quot;development&quot;</code></li></ul><p>Examples:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run a local dev server in the current directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run a local dev server with a file entrypoint and some assets</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./server.tsx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --public</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./assets</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run a local dev server inside the my-project directory using a custom port</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./my-project</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 56565</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Although the <code>dev</code> command uses the same Runtime as when deployed, the local HTTP server itself doesn&#39;t have the same optimizations. As such, you shouldn&#39;t run any production environment on it, or run any kind of load tests/benchmarks.</p></div><h3 id="lagoss-build" tabindex="-1"><code>lagoss build</code> <a class="header-anchor" href="#lagoss-build" aria-label="Permalink to &quot;\`lagoss build\`&quot;">​</a></h3><p>For debugging purposes, you can build a Function and see its output without deploying it. Under the hood, <code>lagoss build</code> does the same steps as <code>lagoss deploy</code>, but skips the deployment part and instead writes the output to a local <code>.lagoss</code> folder.</p><p>This command accepts the following arguments and options:</p><ul><li><code>[PATH]</code> is an optional path to a file or directory containing the Function. (Default: <code>.</code>)</li><li><code>--client, -c &lt;CLIENT&gt;</code> allows you to specify a path to an additional file to bundle as a client-side script.</li><li><code>--public, -p &lt;&lt;PUBLIC_DIR&gt;&gt;</code> allows you to specify a path to a directory containing assets to be served statically.</li></ul><p>Examples:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./server.tsx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --client</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> App.tsx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --public</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./assets</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .lagoss/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .lagoss/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   index.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   App.js</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   assets/</span></span></code></pre></div><h3 id="lagoss-link" tabindex="-1"><code>lagoss link</code> <a class="header-anchor" href="#lagoss-link" aria-label="Permalink to &quot;\`lagoss link\`&quot;">​</a></h3><p>Link a local Function to a deployed one, without triggering a new Deployment. Make sure you are <a href="#lagoss-login">logged in</a> before proceeding. This command accepts only one argument:</p><ul><li><code>[DIRECTORY]</code> is an optional path to a directory containing the Function. (Default: <code>.</code>)</li></ul><p>Example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lagoss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./index.ts</span></span></code></pre></div><h2 id="self-hosting-configuration" tabindex="-1">Self-hosting configuration <a class="header-anchor" href="#self-hosting-configuration" aria-label="Permalink to &quot;Self-hosting configuration&quot;">​</a></h2><p>If you are <a href="./self-hosting/installation.html">self-hosting</a> Lagoss, you will need to update the default site URL to the one used by your installation. To do so, find the configuration file located in <code>~/.lagoss/config.json</code>:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;**************&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;site_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://app.lagoss.com&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // Replace this field</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Replace the <code>site_url</code> field with the one configured during the installation. To verify if it&#39;s working correctly, log in to your installation using <code>lagoss login</code>.</p>`,66),n=[l];function o(p,h,d,c,r,k){return i(),a("div",null,n)}const y=s(t,[["render",o]]);export{u as __pageData,y as default};
